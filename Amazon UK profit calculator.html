<!DOCTYPE html>
<html>
<body onload='onStart()'>

<h1>UK FBA calculator (NON-MEDIA)</h1>
<table border="1">
  <tr>
    <td><b>GBP to USD rate : </b></td>
    <td> <input type="text" name="id_number" value=" " id="inputGBPToUSDRate" size="16" maxlength="16" /> </td>
    <td><b>USD to GBP rate : </b></td>
    <td> <input type="text" name="id_number" value=" " id="inputUSDToGBPRate" size="16" maxlength="16" /> </td>
  </tr>
    <tr>
    <td><b> KG cost by air (USD): </b></td>
    <td> <input type="text" name="id_number" value=" " id="inputKGCost" size="16" maxlength="16" /> </td>
    <td><b> CBM cost by sea (USD): </b></td>
    <td> <input type="text" name="id_number" value=" " id="inputCBMcost" size="16" maxlength="16" /> </td>
  </tr>
     <tr>
    <td><b> Product Category rate (in decimal): </b></td>
    <td> <input type="text" name="id_number" value=" " id="inputCategoryRate" size="16" maxlength="16" /> </td>
  </tr>
</table>
<p></p>
<table border="1">
  <tr bgcolor="#FF8800">
    <td><b>Longest Side  (cm): </b></td>
    <td> <input type="text" name="id_number" value=" " id="inputWidth" size="16" maxlength="16" /> </td>
    <td><b>Medium Side (cm): </b></td>
    <td> <input type="text" name="id_number" value=" " id="inputLength" size="16" maxlength="16" /> </td>
</tr>
    <tr bgcolor="#FF8800">
<td><b>Shortest Side (cm): </b></td>
    <td> <input type="text" name="id_number" value=" " id="inputHeight" size="16" maxlength="16" /> </td>
<td><b>Weight (gm): </b></td>
    <td> <input type="text" name="id_number" value=" " id="inputWeight" size="16" maxlength="16" /> </td>
  </tr>
</table>
  <button onclick="calculate()" id="calculate_button">calculate FBA and Shipping Fee</button>
<br>
<p>     </p>
<table border="1">
  <tr>
    <td><b>Price Class</b></td>
    <td><b>Width (cm)</b></td> 
    <td><b>Length (cm)</b></td> 
    <td><b>Height (cm)</b></td> 
    <td><b>Min Ｗeight (gm)</b></td>
    <td><b>Max Ｗeight (gm)</b></td>
    <td><b>Price (UK)</b></td>
    <td><b>Price (EU)</b></td>

  </tr>
  <tr>
    <td id="result_price_class"> </td>
    <td id="result_width"> </td> 
    <td id="result_length"> </td>
    <td id="result_height"> </td> 
    <td id="result_min_weight"> </td> 
    <td id="result_max_weight"> </td> 
    <td id="result_price_uk"> </td>
    <td id="result_price_eu"> </td>

  </tr>
</table>
<p></p>
<table border="1">
  <tr>
    <td><b>pick up fee for UK to UK (GBP):</b></td>
    <td> <text type="text" name="id_number" value=" " id="pickFeeUKToUK" size="16" maxlength="16" /> </td>
    </tr>
    <tr>
    <td><b>total cost (GBP) : </b></td>
    <td> <text type="text" name="id_number" value=" " id="result" size="16" maxlength="16" /> </td>
    </tr>
</table>
<h2> Gross Profit Table </h2>
<text> product Cost (USD): </text><input type="text" name="id_number" value=" " id="inputCost" size="16" maxlength="16" /> 
  <button onclick="calculateGrossProfit(calculate(), document.getElementById('inputWeight').value, document.getElementById('inputHeight').value, document.getElementById('inputLength').value, document.getElementById('inputWidth').value)", id="calculate_profit_button">calculate Gross Profit</button>

<br>
<p></p>
<table border="1">
  <tr>
    <td><b>to FBA UK cost by Air (USD): </b></td>
    <td> <text type="text" name="id_number" value=" " id="to_FBA_cost_by_air" size="16" maxlength="16" /> </td>
    <td><b>to FBA UK cost by Sea (USD): </b></td>
    <td> <text type="text" name="id_number" value=" " id="to_FBA_cost_by_sea" size="16" maxlength="16" /> </td>
    </tr>
</table>
<br>
<table border="1">
  <tr bgcolor="#FFDDAA">
    <td><b>Type</b></td>
    <td><b>25 %</b></td>
    <td><b>26 %</b></td>
    <td><b>27 %</b></td>
    <td><b>28 %</b></td>
    <td><b>29 %</b></td>
    <td><b>30 %</b></td>
    <td><b>31 %</b></td>
    <td><b>32 %</b></td>
    <td><b>33 %</b></td>
    <td><b>34 %</b></td>
    <td><b>35 %</b></td>
    <td><b>36 %</b></td>
    <td><b>37 %</b></td>
    <td><b>38 %</b></td>
    <td><b>39 %</b></td>
    <td><b>40 %</b></td>

  </tr>

  <tr>
    <td><b>Air</b></td>
    <td id="25_percent"> </td>
       <td id="26_percent"> </td>
       <td id="27_percent"> </td>
       <td id="28_percent"> </td>
       <td id="29_percent"> </td>
       <td id="30_percent"> </td>
       <td id="31_percent"> </td>
       <td id="32_percent"> </td>
       <td id="33_percent"> </td>
       <td id="34_percent"> </td>
       <td id="35_percent"> </td>
       <td id="36_percent"> </td>
       <td id="37_percent"> </td>
       <td id="38_percent"> </td>
       <td id="39_percent"> </td>
       <td id="40_percent"> </td>
  </tr>
    <tr bgcolor="#FFFFBB">
      <td><b>Air</b></td>

   <td id="25_percent_gbp"> </td>
       <td id="26_percent_gbp"> </td>
       <td id="27_percent_gbp"> </td>
       <td id="28_percent_gbp"> </td>
       <td id="29_percent_gbp"> </td>
       <td id="30_percent_gbp"> </td>
       <td id="31_percent_gbp"> </td>
       <td id="32_percent_gbp"> </td>
       <td id="33_percent_gbp"> </td>
       <td id="34_percent_gbp"> </td>
       <td id="35_percent_gbp"> </td>
       <td id="36_percent_gbp"> </td>
       <td id="37_percent_gbp"> </td>
       <td id="38_percent_gbp"> </td>
       <td id="39_percent_gbp"> </td>
       <td id="40_percent_gbp"> </td>
  </tr>
   <tr>
       <td><b>Sea</b></td>
    <td id="25_percent_by_sea"> </td>
       <td id="26_percent_by_sea"> </td>
       <td id="27_percent_by_sea"> </td>
       <td id="28_percent_by_sea"> </td>
       <td id="29_percent_by_sea"> </td>
       <td id="30_percent_by_sea"> </td>
       <td id="31_percent_by_sea"> </td>
       <td id="32_percent_by_sea"> </td>
       <td id="33_percent_by_sea"> </td>
       <td id="34_percent_by_sea"> </td>
       <td id="35_percent_by_sea"> </td>
       <td id="36_percent_by_sea"> </td>
       <td id="37_percent_by_sea"> </td>
       <td id="38_percent_by_sea"> </td>
       <td id="39_percent_by_sea"> </td>
       <td id="40_percent_by_sea"> </td>
  </tr>
    <tr bgcolor="#FFFFBB">
       <td><b>Sea</b></td>
    <td id="25_percent_by_sea_gbp"> </td>
       <td id="26_percent_by_sea_gbp"> </td>
       <td id="27_percent_by_sea_gbp"> </td>
       <td id="28_percent_by_sea_gbp"> </td>
       <td id="29_percent_by_sea_gbp"> </td>
       <td id="30_percent_by_sea_gbp"> </td>
       <td id="31_percent_by_sea_gbp"> </td>
       <td id="32_percent_by_sea_gbp"> </td>
       <td id="33_percent_by_sea_gbp"> </td>
       <td id="34_percent_by_sea_gbp"> </td>
       <td id="35_percent_by_sea_gbp"> </td>
       <td id="36_percent_by_sea_gbp"> </td>
       <td id="37_percent_by_sea_gbp"> </td>
       <td id="38_percent_by_sea_gbp"> </td>
       <td id="39_percent_by_sea_gbp"> </td>
       <td id="40_percent_by_sea_gbp"> </td>
  </tr>
</table>
<br>
<table border="1">
  <tr bgcolor="#FFDDAA">
      <td><b>Type</b></td>
    <td><b>20 %</b></td>
    <td><b>21 %</b></td>
    <td><b>22 %</b></td>
    <td><b>23 %</b></td>
    <td><b>24 %</b></td>
    <td><b>41 %</b></td>
    <td><b>42 %</b></td>
    <td><b>43 %</b></td>
    <td><b>44 %</b></td>
    <td><b>45 %</b></td>
    <td><b>46 %</b></td>
    <td><b>47 %</b></td>
    <td><b>48 %</b></td>
    <td><b>49 %</b></td>
    <td><b>50 %</b></td>
    <td><b>51 %</b></td>

  </tr>
  <tr>
      <td><b>Air</b></td>
    <td id="20_percent"> </td>
       <td id="21_percent"> </td>
       <td id="22_percent"> </td>
       <td id="23_percent"> </td>
       <td id="24_percent"> </td>
       <td id="41_percent"> </td>
       <td id="42_percent"> </td>
       <td id="43_percent"> </td>
       <td id="44_percent"> </td>
       <td id="45_percent"> </td>
       <td id="46_percent"> </td>
       <td id="47_percent"> </td>
       <td id="48_percent"> </td>
       <td id="49_percent"> </td>
       <td id="50_percent"> </td>
       <td id="51_percent"> </td>
  </tr>
    <tr bgcolor="#FFFFBB">
      <td><b>Air</b></td>
    <td id="20_percent_gbp"> </td>
       <td id="21_percent_gbp"> </td>
       <td id="22_percent_gbp"> </td>
       <td id="23_percent_gbp"> </td>
       <td id="24_percent_gbp"> </td>
       <td id="41_percent_gbp"> </td>
       <td id="42_percent_gbp"> </td>
       <td id="43_percent_gbp"> </td>
       <td id="44_percent_gbp"> </td>
       <td id="45_percent_gbp"> </td>
       <td id="46_percent_gbp"> </td>
       <td id="47_percent_gbp"> </td>
       <td id="48_percent_gbp"> </td>
       <td id="49_percent_gbp"> </td>
       <td id="50_percent_gbp"> </td>
       <td id="51_percent_gbp"> </td>
  </tr>
    <tr>
        <td><b>Sea</b></td>
    <td id="20_percent_by_sea"> </td>
       <td id="21_percent_by_sea"> </td>
       <td id="22_percent_by_sea"> </td>
       <td id="23_percent_by_sea"> </td>
       <td id="24_percent_by_sea"> </td>
       <td id="41_percent_by_sea"> </td>
       <td id="42_percent_by_sea"> </td>
       <td id="43_percent_by_sea"> </td>
       <td id="44_percent_by_sea"> </td>
       <td id="45_percent_by_sea"> </td>
       <td id="46_percent_by_sea"> </td>
       <td id="47_percent_by_sea"> </td>
       <td id="48_percent_by_sea"> </td>
       <td id="49_percent_by_sea"> </td>
       <td id="50_percent_by_sea"> </td>
       <td id="51_percent_by_sea"> </td>
  </tr>
    <tr bgcolor="#FFFFBB">
        <td><b>Sea</b></td>
    <td id="20_percent_by_sea_gbp"> </td>
       <td id="21_percent_by_sea_gbp"> </td>
       <td id="22_percent_by_sea_gbp"> </td>
       <td id="23_percent_by_sea_gbp"> </td>
       <td id="24_percent_by_sea_gbp"> </td>
       <td id="41_percent_by_sea_gbp"> </td>
       <td id="42_percent_by_sea_gbp"> </td>
       <td id="43_percent_by_sea_gbp"> </td>
       <td id="44_percent_by_sea_gbp"> </td>
       <td id="45_percent_by_sea_gbp"> </td>
       <td id="46_percent_by_sea_gbp"> </td>
       <td id="47_percent_by_sea_gbp"> </td>
       <td id="48_percent_by_sea_gbp"> </td>
       <td id="49_percent_by_sea_gbp"> </td>
       <td id="50_percent_by_sea_gbp"> </td>
       <td id="51_percent_by_sea_gbp"> </td>
  </tr>
</table>

<br>
<table border="1">
  <tr bgcolor="#FFDDAA">
      <td><b>Type</b></td>
    <td><b>4 %</b></td>
    <td><b>5 %</b></td>
    <td><b>6 %</b></td>
    <td><b>7 %</b></td>
    <td><b>8 %</b></td>
    <td><b>9 %</b></td>
    <td><b>10 %</b></td>
    <td><b>11 %</b></td>
    <td><b>12 %</b></td>
    <td><b>13 %</b></td>
    <td><b>14 %</b></td>
    <td><b>15 %</b></td>
    <td><b>16 %</b></td>
    <td><b>17 %</b></td>
    <td><b>18 %</b></td>
    <td><b>19 %</b></td>

  </tr>
  <tr>
      <td><b>Air</b></td>
    <td id="4_percent"> </td>
       <td id="5_percent"> </td>
       <td id="6_percent"> </td>
       <td id="7_percent"> </td>
       <td id="8_percent"> </td>
       <td id="9_percent"> </td>
       <td id="10_percent"> </td>
       <td id="11_percent"> </td>
       <td id="12_percent"> </td>
       <td id="13_percent"> </td>
       <td id="14_percent"> </td>
       <td id="15_percent"> </td>
       <td id="16_percent"> </td>
       <td id="17_percent"> </td>
       <td id="18_percent"> </td>
       <td id="19_percent"> </td>
  </tr>
    <tr bgcolor="#FFFFBB">
      <td><b>Air</b></td>
    <td id="4_percent_gbp"> </td>
       <td id="5_percent_gbp"> </td>
       <td id="6_percent_gbp"> </td>
       <td id="7_percent_gbp"> </td>
       <td id="8_percent_gbp"> </td>
       <td id="9_percent_gbp"> </td>
       <td id="10_percent_gbp"> </td>
       <td id="11_percent_gbp"> </td>
       <td id="12_percent_gbp"> </td>
       <td id="13_percent_gbp"> </td>
       <td id="14_percent_gbp"> </td>
       <td id="15_percent_gbp"> </td>
       <td id="16_percent_gbp"> </td>
       <td id="17_percent_gbp"> </td>
       <td id="18_percent_gbp"> </td>
       <td id="19_percent_gbp"> </td>
  </tr>
    <tr>
        <td><b>Sea</b></td>
    <td id="4_percent_by_sea"> </td>
       <td id="5_percent_by_sea"> </td>
       <td id="6_percent_by_sea"> </td>
       <td id="7_percent_by_sea"> </td>
       <td id="8_percent_by_sea"> </td>
       <td id="9_percent_by_sea"> </td>
       <td id="10_percent_by_sea"> </td>
       <td id="11_percent_by_sea"> </td>
       <td id="12_percent_by_sea"> </td>
       <td id="13_percent_by_sea"> </td>
       <td id="14_percent_by_sea"> </td>
       <td id="15_percent_by_sea"> </td>
       <td id="16_percent_by_sea"> </td>
       <td id="17_percent_by_sea"> </td>
       <td id="18_percent_by_sea"> </td>
       <td id="19_percent_by_sea"> </td>
  </tr>
    <tr bgcolor="#FFFFBB">
        <td><b>Sea</b></td>
    <td id="4_percent_by_sea_gbp"> </td>
       <td id="5_percent_by_sea_gbp"> </td>
       <td id="6_percent_by_sea_gbp"> </td>
       <td id="7_percent_by_sea_gbp"> </td>
       <td id="8_percent_by_sea_gbp"> </td>
       <td id="9_percent_by_sea_gbp"> </td>
       <td id="10_percent_by_sea_gbp"> </td>
       <td id="11_percent_by_sea_gbp"> </td>
       <td id="12_percent_by_sea_gbp"> </td>
       <td id="13_percent_by_sea_gbp"> </td>
       <td id="14_percent_by_sea_gbp"> </td>
       <td id="15_percent_by_sea_gbp"> </td>
       <td id="16_percent_by_sea_gbp"> </td>
       <td id="17_percent_by_sea_gbp"> </td>
       <td id="18_percent_by_sea_gbp"> </td>
       <td id="19_percent_by_sea_gbp"> </td>
  </tr>
</table>

<script>
var FBAWeightMaxium = 300000; // 30kg
var pickFeeForUKToUK = 1.8;
var pickFeeForUKToEU = 1.35;
var standardWeightHandlingFee = 0.31;
var expeditedWeightHandlingFee = 0.6;
var AmazonServiceChargePercentage = 0.2;
var frontShippingCost = 1; // usd/100g
var frontShippingCostUnit = 100; //gm
var CBM = 100 * 100 * 100;
var CBMCost = 310; //usd
var GBPToUSD = 1.4481;
var USDToGBP = 0.6929;
var fullfillmentFee = [{name:"Samll Envelope (20g)",width:20, length:15, height:1,minWeight:0,maxWeight:100,gbp:1.07,eur:2.85},
{name:"Standard Envelope (40g)",width:33, length:23, height:2.5,minWeight:0,maxWeight:100,gbp:1.19,eur:2.97},
{name:"Standard Envelope (40g)",width:33, length:23, height:2.5,minWeight:101,maxWeight:250,gbp:1.31,eur:2.98},
{name:"Standard Envelope (40g)",width:33, length:23, height:2.5,minWeight:251,maxWeight:500,gbp:1.51,eur:3.02},
{name:"Large Envelope (40g)",width:33, length:23, height:5,minWeight:0,maxWeight:1000,gbp:1.7,eur:3.39},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:0,maxWeight:250,gbp:1.66,eur:3.57},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:251,maxWeight:500,gbp:1.72,eur:3.66},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:501,maxWeight:1000,gbp:1.77,eur:4.23},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:1001,maxWeight:1500,gbp:2.19,eur:4.29},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:1501,maxWeight:2000,gbp:2.41,eur:4.35},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:2001,maxWeight:3000,gbp:3.3,eur:5.28},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:3001,maxWeight:4000,gbp:3.4,eur:5.44},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:4001,maxWeight:5000,gbp:3.4,eur:5.44},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:5001,maxWeight:6000,gbp:3.45,eur:5.52},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:6001,maxWeight:7000,gbp:3.45,eur:5.52},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:7001,maxWeight:8000,gbp:3.53,eur:5.65},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:8001,maxWeight:9000,gbp:3.53,eur:5.65},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:9001,maxWeight:10000,gbp:3.53,eur:5.65},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:10001,maxWeight:11000,gbp:3.53,eur:5.65},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:11001,maxWeight:12000,gbp:3.54,eur:5.66},
{name:"Small Oversize (240g)",width:61, length:46, height:46,minWeight:0,maxWeight:1000,gbp:2.97,eur:-1},
{name:"Small Oversize (240g)",width:61, length:46, height:46,minWeight:1001,maxWeight:1250,gbp:3.32,eur:-1},
{name:"Small Oversize (240g)",width:61, length:46, height:46,minWeight:1251,maxWeight:1500,gbp:3.58,eur:-1},
{name:"Small Oversize (240g)",width:61, length:46, height:46,minWeight:1501,maxWeight:1750,gbp:3.65,eur:-1},
{name:"Small Oversize (240g)",width:61, length:46, height:46,minWeight:1751,maxWeight:2000,gbp:3.7,eur:-1},
{name:"Standard Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:1000,gbp:3.79,eur:-1},
{name:"Standard Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:2000,gbp:4.05,eur:-1},
{name:"Standard Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:3000,gbp:4.14,eur:-1},
{name:"Standard Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:4000,gbp:4.17,eur:-1},
{name:"Standard Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:5000,gbp:4.2,eur:-1},
{name:"Standard Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:6000,gbp:4.96,eur:-1},
{name:"Standard Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:7000,gbp:5.01,eur:-1},
{name:"Standard Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:8000,gbp:5.04,eur:-1},
{name:"Standard Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:9000,gbp:5.04,eur:-1},
{name:"Standard Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:10000,gbp:5.06,eur:-1},
{name:"Standard Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:15000,gbp:5.39,eur:-1},
{name:"Standard Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:20000,gbp:5.66,eur:-1},
{name:"Standard Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:25000,gbp:6.27,eur:-1},
{name:"Standard Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:30000,gbp:6.27,eur:-1}
]

var oversizeFBAFee = [
{name:"Large Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:5000,gbp:4.69,eur:-1},
{name:"Large Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:10000,gbp:5.66,eur:-1},
{name:"Large Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:15000,gbp:5.98,eur:-1},
{name:"Large Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:20000,gbp:6.27,eur:-1},
{name:"Large Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:25000,gbp:6.84,eur:-1},
{name:"Large Oversize (240g)",width:120, length:60, height:60,minWeight:0,maxWeight:30000,gbp:6.85,eur:-1}
]


var weightHandlingFee = [{name:"Samll Envelope (20g)",width:20, length:15, height:0.5,minWeight:0,maxWeight:100,standard:0.4,expedited:2.4},
{name:"Standard Envelope (40g)",width:33, length:23, height:2.5,minWeight:0,maxWeight:100,standard:0.85,expedited:2.85},
{name:"Standard Envelope (40g)",width:33, length:23, height:2.5,minWeight:101,maxWeight:250,standard:1.05,expedited:3.05},
{name:"Standard Envelope (40g)",width:33, length:23, height:2.5,minWeight:251,maxWeight:500,standard:1.2,expedited:3.2},
{name:"Standard Envelope (40g)",width:33, length:23, height:2.5,minWeight:501,maxWeight:750,standard:1.25,expedited:3.25},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:0,maxWeight:1000,standard:2.1,expedited:4.6},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:1001,maxWeight:1250,standard:2.9,expedited:5.4},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:1251,maxWeight:1500,standard:3,expedited:5.5},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:1501,maxWeight:1750,standard:3.1,expedited:5.6},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:1751,maxWeight:2000,standard:3.2,expedited:5.7},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:2001,maxWeight:5000,standard:3.7,expedited:6.2},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:5001,maxWeight:10000,standard:4.3,expedited:6.8},
{name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:10001,maxWeight:12000,standard:5.8,expedited:8.3}]


function calculateWeightHandling(inputWidth, inputLength, inputHeight, inputWeight) {
  	var returnValue = null;
    /** WH Fee */
    for (i = 0 ; i < weightHandlingFee.length ; i++) {
        // console.log('current class for WH', weightHandlingFee[ele].name);
        var objWidth = weightHandlingFee[i].width;
        var objHeight = weightHandlingFee[i].height;
        var objLength = weightHandlingFee[i].length;
        var objWeight = weightHandlingFee[i].maxWeight;
     
        if (inputWeight > FBAWeightMaxium) {
          //TODO: should show over 30kg message
            console.log("find bug", "break a");
        	break;
        } else if (inputWidth > oversizeFBAFee[0].width || inputLength > oversizeFBAFee[0].length || inputHeight > oversizeFBAFee[0].height) {
            if (ele <= oversizeFBAFee.length) {
            WHFeeResult = oversizeFBAFee[i];
            } else { 

            }
        } else if (weightHandlingFee[weightHandlingFee.length -1].maxWeight < inputWeight) {
          var gap = inputWeight - weightHandlingFee[weightHandlingFee.length -1].maxWeight;
          // console.log('last max is ',weightHandlingFee[weightHandlingFee.length -1].maxWeight);
          // console.log('gap is ', gap);
           var additionWeight = parseInt(gap / 1000);
           var remainder = parseInt(gap / 1000);
           var extraWeight = (additionWeight + (remainder > 0 ? 1 : 0));
           var extraChargeForStandard = extraWeight * standardWeightHandlingFee;
           var extraChargeForExpedited = extraWeight * expeditedWeightHandlingFee;
           console.log("additionWeight",additionWeight);
           console.log("remainder",remainder);
           console.log("extraWeight",extraWeight);
           console.log("extraChargeForStandard",extraChargeForStandard);
           console.log("extraChargeForExpedited",extraChargeForExpedited);
          returnValue = {name:"Standard Parcel (100g)",width:45, length:34, height:26,minWeight:10001,maxWeight:12000,standard:(5.8+extraChargeForStandard),expedited:(8.3+extraChargeForExpedited)};
   			break;  
        // console.log('extraChargeForStandard',extraChargeForStandard);
        // console.log('extraChargeForExpedited',extraChargeForExpedited);
        } else if ((inputWidth <= objWidth) && (inputHeight <= objHeight) && (inputLength <= objLength) && (inputWeight <= objWeight)) {
            returnValue = weightHandlingFee[ele];
            break;
        }
    };
    return returnValue;
}

function calcalateFBA(inputWidth, inputLength, inputHeight, inputWeight) {
  	var returnValue = null;
    if (inputWeight > FBAWeightMaxium) {
		return null;
    } else if (inputWidth > oversizeFBAFee[0].width || inputLength > oversizeFBAFee[0].length || inputHeight > oversizeFBAFee[0].height) {
			// console.log("oversizeFBAFee.length",oversizeFBAFee.length);
			// console.log("inputWidth",inputWidth);
			// console.log("objWidth",objWidth);
    	
			for (j = 0 ; j < oversizeFBAFee.length ; j++) {
				// var objWidth = oversizeFBAFee[j].width;
        		// var objHeight = oversizeFBAFee[j].height;
        		// var objLength = oversizeFBAFee[j].length;
        		var objWeight = oversizeFBAFee[j].maxWeight;
        		console.log("objWeight",objWeight);
				if (inputWeight <= objWeight) {
					WHFeeResult = oversizeFBAFee[j];
					return WHFeeResult;
				}
			}
 		} else {
			for (i = 0 ; i < fullfillmentFee.length ; i++) {

        		// console.log('current class', fullfillmentFee[i].name);
        		var objWidth = fullfillmentFee[i].width;
        		var objHeight = fullfillmentFee[i].height;
        		var objLength = fullfillmentFee[i].length;
        		var objWeight = fullfillmentFee[i].maxWeight;
        		if ((inputWidth <= objWidth) && (inputHeight <= objHeight) && (inputLength <= objLength) && (inputWeight <= objWeight)) {
            		returnValue = fullfillmentFee[i];
            		break;
          		}
		}
      	
    }
       return returnValue;
}
function isInt(n) {
   return n % 1 === 0;
}
function isFloat(n){
    return Number(n) === n && n % 1 !== 0;
}
function calculateGrossProfit(FBAFee, inputWeight, inputHeight, inputLength, inputWidth) {
	// 1 is air, 2 is sea
	var toFBACostByAir = (getFrontShippingCost(1,inputWeight, inputHeight, inputLength, inputWidth));
  console.log("toFBACostByAir",toFBACostByAir);
	var toFBACostBySea = (getFrontShippingCost(2,inputWeight, inputHeight, inputLength, inputWidth));
	for (i = 4 ; i <= 51 ; i ++) {
		// console.log("***********************", "****************");
		// console.log("index i ", i);

		var productCost = parseFloat(document.getElementById('inputCost').value); 
		var FBAFeeAndPickupUkToUk = ((FBAFee.gbp+pickFeeForUKToUK) * GBPToUSD);
		var base = (-((i / 100) - 1 + parseFloat(AmazonServiceChargePercentage))).toFixed(2);

		/** by Air */
		var costByAir = (FBAFeeAndPickupUkToUk + productCost + toFBACostByAir).toFixed(2);
    	var resultByAir = ((costByAir /(base * 100))* 100).toFixed(2);
      console.log("resultByAir",resultByAir);
      console.log("costByAir",costByAir);
      console.log("productCost",productCost);
      console.log("AmazonServiceChargePercentage",AmazonServiceChargePercentage);
      console.log("base",base);
       	document.getElementById(i+"_percent").innerHTML = " $" + resultByAir;
        // document.getElementById(i+"_percent_gbp").innerHTML = " hahaha" ;
        document.getElementById(i+"_percent_gbp").innerHTML = " £" + (resultByAir * USDToGBP).toFixed(2);

		
		/** by Sea */
		  var costBySea = (FBAFeeAndPickupUkToUk + productCost + toFBACostBySea).toFixed(2);
    	var resultBySea = ((costBySea /(base * 100))* 100).toFixed(2);
      document.getElementById(i+"_percent_by_sea").innerHTML = " $" + resultBySea;
      // document.getElementById(i+"_percent_by_sea_gbp").innerHTML = " " + (resultBySea * USDToGBP).toFixed(2);
      document.getElementById(i+"_percent_by_sea_gbp").innerHTML = " £" + (resultBySea * USDToGBP).toFixed(2);


	}
    document.getElementById("to_FBA_cost_by_air").innerHTML = toFBACostByAir.toFixed(2);
    document.getElementById("to_FBA_cost_by_sea").innerHTML = toFBACostBySea.toFixed(2);
}


function getFrontShippingCost (type, weight, height, length, width) {
	if (type == 1) {
    var dimensionValue = (width * height * length) / 5000;

 		var additionWeight = parseInt(weight / frontShippingCostUnit);
  	var remainder = parseInt(weight % frontShippingCostUnit);
  	var extraWeight = (additionWeight + (remainder > 0 ? 1 : 0));
    return dimensionValue > extraWeight ? dimensionValue * frontShippingCost : extraWeight * frontShippingCost;
	} else {
		var productInCube = height * length * width;
		var productCubeInCBM = productInCube /CBM;
		var productCost = productCubeInCBM * CBMCost ;
		return productCost;
	}
}

function onStart() {
           document.getElementById('inputGBPToUSDRate').value = GBPToUSD;
           document.getElementById('inputUSDToGBPRate').value = USDToGBP;
           document.getElementById('inputCategoryRate').value = AmazonServiceChargePercentage;
           document.getElementById('inputCBMcost').value = CBMCost;
           document.getElementById('inputKGCost').value = (frontShippingCost * 10);
           
}

 function calculate(){

       var inputWidth = document.getElementById('inputWidth').value;
       var inputLength = document.getElementById('inputLength').value;
       var inputHeight = document.getElementById('inputHeight').value;
       var inputWeight = document.getElementById('inputWeight').value;
       GBPToUSD = document.getElementById('inputGBPToUSDRate').value;
       USDToGBP = document.getElementById('inputUSDToGBPRate').value;
       AmazonServiceChargePercentage = document.getElementById('inputCategoryRate').value;
       CBMCost = document.getElementById('inputCBMcost').value;
       frontShippingCost = parseFloat(document.getElementById('inputKGCost').value) / 10;

// var WHFeeResult = calculateWeightHandling(inputWidth, inputLength, inputHeight, inputWeight);
var FBAFeeResult = calcalateFBA(inputWidth, inputLength, inputHeight, inputWeight);
// console.log("FBAFeeResult",FBAFeeResult);
var WHFeeResult = null;
printOutResult(FBAFeeResult, WHFeeResult);
return FBAFeeResult;
}



function printOutResult (FBAFeeResult,WHFeeResult) {
       /** output result */
       // console.log("FBAFeeResult",FBAFeeResult);
       if (FBAFeeResult != null) {
        // var FBAMatchedResult = FBAFeeResult
         // console.log(FBAFeeResult)
         document.getElementById("result_price_class").innerHTML = FBAFeeResult.name;
         document.getElementById("result_width").innerHTML = FBAFeeResult.width;
         document.getElementById("result_height").innerHTML = FBAFeeResult.height;
         document.getElementById("result_length").innerHTML = FBAFeeResult.length;
         document.getElementById("result_min_weight").innerHTML = FBAFeeResult.minWeight;
         document.getElementById("result_max_weight").innerHTML = FBAFeeResult.maxWeight;
         document.getElementById("result_price_uk").innerHTML = FBAFeeResult.gbp;
         document.getElementById("result_price_eu").innerHTML = (FBAFeeResult.eur >= 0 ? FBAFeeResult.eur : "N.A.");
       } else {
       	 document.getElementById("result").innerHTML = "cannot calculate, please make sure data is correct.";
		return;
       }

       if (WHFeeResult != null) {
        // var WHMatchedResult = WHFeeResult
         // console.log(WHFeeResult)
         document.getElementById("result_weight_handle_class").innerHTML = WHFeeResult.name;
         document.getElementById("result_weight_handle_fee_standard").innerHTML = WHFeeResult.standard.toFixed(2);
         document.getElementById("result_weight_handle_fee_expedited").innerHTML = WHFeeResult.expedited.toFixed(2);

       
   
      console.log("WHMatchedResult.standard",WHFeeResult.standard);
      console.log("FBAMatchedResult.gbp",WHFeeResult.gbp);
      console.log("pickFeeForUKToUK",pickFeeForUKToUK);
}
    document.getElementById("pickFeeUKToUK").innerHTML = " £" + pickFeeForUKToUK;
      // document.getElementById("pickFeeUKToEU").innerHTML = " pick up fee for UK to EU (GBP): "+ pickFeeForUKToEU;

       // document.getElementById("result").innerHTML = "total cost (standard) : "+ (WHFeeResult.standard + FBAMatchedResult.gbp+pickFeeForUKToUK).toFixed(2;
       // document.getElementById("result2").innerHTML = "total cost (expedited) : "+ (WHFeeResult.expedited + FBAMatchedResult.gbp+pickFeeForUKToUK).toFixed(2);
 document.getElementById("result").innerHTML = " £" + (FBAFeeResult.gbp+pickFeeForUKToUK).toFixed(2);
       // document.getElementById("result2").innerHTML = "total cost (expedited) : "+ (FBAMatchedResult.gbp+pickFeeForUKToUK).toFixed(2);
   }



</script>

</body>
</html>
